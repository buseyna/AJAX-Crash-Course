<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajax 1 - Text File</title>
</head>
<body>
<button id="button">Get Text File</button>
<br><br>
<div id="text"></div>
<script>
    //Create avent listener
    document.getElementById('button').addEventListener('click', loadText);
    function loadText(){
       // console.log('button clicked');


       //CREATE XHR OBJECT //Ajax request// 
       var xhr = new XMLHttpRequest();


       //OPEN - TYPE -,or- UR/File, - or - async
      // console.log(xhr);
      //a function called open//
      //xhr.open('GET', 'sample1.txt', true);

      xhr.open('GET', 'sample2.txt', true);

      console.log('READYSTATE', xhr.readyState);

      //OPTIONAL - USED FOR LOADERS
      xhr.onprogress = function (){
        console.log('READYSTATE', xhr.readyState);

      }

      xhr.onload = function(){
        console.log('READYSTATE', xhr.readyState);

        if(this.status == 200){ 
      // console.log(this.responseText);
      document.getElementById('text').innerHTML = this.responseText;
        } else if (this.status = 404){
          document.getElementById('text').innerHTML = 'Not Found';

          }
        }
      

      xhr.onerror = function(){
        console.log('Request Error...');
      }
// IT'S PERFECTLY FINE TO USE onreadystatechange
    //   xhr.onreadystatechange = function(){
    //     console.log('READYSTATE', xhr.readyState);

    //     if(this.readyState == 4 && this.status == 200){
    // //console.log(this.responseText);

    //     }
    //   }
      //SEnds Request
    
      xhr.send();
    }

    //readyState Value
    //0: request not initialized
    //1: server connection established 
    //2: request recieved
    //3: processing request 
    //4: request finished and response is ready

    //HTTP Statuses
    //200: "Ok"
    //403: "Forbidden"
    //404: "Not Found"


</script>
</body>
</html>